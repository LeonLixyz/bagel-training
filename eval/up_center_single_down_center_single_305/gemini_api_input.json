{
  "contents": [
    {
      "system_prompt": "You are an expert in creating clean, coherent multimodal reasoning traces. Your task is to transform a template reasoning trace into a diverse, concise multimodal reasoning trace that correctly solves the problem.\n\n**Input Data Provided to You:**\n1. Problem & Template Trace: A template with interleaved text and image placeholders:\n   - `[problem_image_X]` for original problem images (e.g., `[problem_image_1]`)\n   - `[reasoning_image_X]` for images generated during reasoning (e.g., `[reasoning_image_1]`)\n2. Image Data: The actual image data corresponding to the placeholders, provided separately.\n\n**Task:** \nGenerate a concise multimodal reasoning trace as **plain text**.\n\n**Output Format:**\nYou MUST generate the formatted reasoning trace with the following structure:\n\nQUESTION:\n<Rewrite the problem statement in your own words while maintaining all key information. Include image placeholders: <image_start>[problem_image_1]<image_end>, <image_start>[problem_image_2]<image_end>, etc.>\n\nREASONING TRACE:\nTHOUGHT 0: <Identify key elements of the problem>\nTHOUGHT 1: <Explain reasoning step, often why an image / sketch / visual thought is needed>\n<image_start>[reasoning_image_1]<image_end>\nTHOUGHT 2: <Explain insights from the image>\n<image_start>[reasoning_image_2]<image_end>\n// Additional thoughts and images as needed\n<image_start>[reasoning_image_X]<image_end>\nTHOUGHT N: <Summarize key insights before answer>\n\nFINAL ANSWER: \n<The final answer based on the reasoning>\n\n**Guidelines**\n\n1. Diversifying the Template:\n   - Rewrite the problem statement and reasoning steps in your own words while preserving all key information.\n   - Vary the language and phrasing to avoid repetitive patterns.\n   - You MUST use all the images provided in the original trace.\n   - Maintain the original template's core reasoning structure and rationale while introducing textual reasoning refinements rather than substantial changes to the logical flow.\n   - Be concise and direct - avoid unnecessary wordiness while ensuring clarity.\n\n2. Multimodal Reasoning Flow:\n   - Develop a coherent, step-by-step chain of thought that seamlessly integrates textual and visual reasoning.\n   - Clearly explain the necessity of generating a sketch / visual thought / image before introducing its placeholder.\n   - After each image placeholder, describe the insights gained from the sketch / visual thought / image, and how it contributes to advancing the solution.\n   - Ensure each step logically builds on the previous ones, especially between text reasoning and visual reasoning\n   steps. \n\n3. Image Placeholders and References:\n   - Use <image_start>[problem_image_X]<image_end> for all images that originate from the problem (e.g., <image_start>[problem_image_1]<image_end>).\n   - Use <image_start>[reasoning_image_X]<image_end> for every sketch or visual you generate while reasoning (e.g., <image_start>[reasoning_image_1]<image_end>).\n   - When you want to actually insert/show an image, write the corresponding placeholder tag exactly as above, be sure to include the <image_start> and <image_end> tags.\n   - When talking about an image inside your explanation, describe it in natural language (e.g., \"the diagram in the question\", \"the first sketch\", \"the first visual thought\") instead of repeating the placeholder.\n\n4. Narrative Style:\n   - Eliminate verbose language that do not contribute to solving the problem.\n   - Focus on the essential reasoning path that leads to the correct solution, using concise and clear language to describe the overall reasoning process.\n   - Be concise, direct, and succinct. Each Thought should be less than 50 words.\n"
    },
    {
      "text": "Here is the problem and the raw reasoning trace with image placeholders:\n\n"
    },
    {
      "text": "<problem_statement_and_raw_trace_start>\n\n"
    },
    {
      "text": "QUESTION:\nWhat pattern should replace the question mark in the 3\u00d73 grid shown in the image? [problem_image_1]\n\nREASONING TRACE:\nTHOUGHT 0: This problem has objects positioned at the top and bottom of each panel.\nTHOUGHT 1: Let me begin by analyzing the objects at the top of each panel.\n[reasoning_image_1]\nTHOUGHT 2: Next, I'll focus on the objects at the bottom of each panel.\n[reasoning_image_2]\nTHOUGHT 3: Based on the identified patterns, I can now determine the correct image that should replace the question mark. The missing panel should combine the left/top pattern with the right/bottom pattern.\n\nFINAL ANSWER:\nThe answer is option 4\n\n\n"
    },
    {
      "text": "<problem_statement_and_raw_trace_end>\n\n"
    },
    {
      "text": "Below is the image data corresponding to the placeholders:\n\n"
    },
    {
      "text": "<image_data_start>\n\n"
    },
    {
      "text": "\nThe actual image for placeholder [problem_image_1]:"
    },
    {
      "image_file_path": "/Users/leon66/Desktop/VLM Reasoning/VLM Reasoning Repo/data/parse_mmcot/parse_cot_gemini/2d_Visual_Reasoning/Visual_Logic/raven_cot/up_center_single_down_center_single_305/raw_files/images/problem_image_1.jpg"
    },
    {
      "text": "\nThe actual image for placeholder [reasoning_image_1]:"
    },
    {
      "image_file_path": "/Users/leon66/Desktop/VLM Reasoning/VLM Reasoning Repo/data/parse_mmcot/parse_cot_gemini/2d_Visual_Reasoning/Visual_Logic/raven_cot/up_center_single_down_center_single_305/raw_files/images/reasoning_image_1.jpg"
    },
    {
      "text": "\nThe actual image for placeholder [reasoning_image_2]:"
    },
    {
      "image_file_path": "/Users/leon66/Desktop/VLM Reasoning/VLM Reasoning Repo/data/parse_mmcot/parse_cot_gemini/2d_Visual_Reasoning/Visual_Logic/raven_cot/up_center_single_down_center_single_305/raw_files/images/reasoning_image_2.jpg"
    },
    {
      "text": "<image_data_end>\n\n"
    },
    {
      "text": "Following the instructions provided, generate the clean and logical coherent multimodal reasoning trace in the specified format referring to the raw trace and image data above."
    }
  ]
}